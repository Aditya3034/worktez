<app-navbar></app-navbar>
<app-error></app-error>
<!-- <router-outlet></router-outlet> -->

<ng-container *ngIf="authService.afauth.user | async; else showLogin">
    <ng-container *ngIf="authService.userAppSetting.AppKey == ''; else showComponents ">
        <div class="container-fluid mt-0 mb-4 py-2" style="background-color: rgba(255, 0, 0, 0.414);">
            <h5>Organization Key not found, Please create new organization</h5>
        </div>

        <app-create-new-organization></app-create-new-organization>
    </ng-container>
    <ng-template #showComponents>
        <router-outlet *ngIf="applicationSettingsService.teamData | async; else loader "></router-outlet>
    </ng-template>
    <ng-template #loader>
        <app-loader *ngIf="authService.afauth.user | async; else showLoader"></app-loader>
    </ng-template>
</ng-container>
<ng-template #showLogin>
    <app-login></app-login>
</ng-template>